@model IEnumerable<object>


@{
    Layout = "~/Views/Shared/_PostLayout.cshtml";
    List<AccessControlManagement.Models.Post> listPost = Model.ToList()[0] as List<AccessControlManagement.Models.Post>;
    List<AccessControlManagement.Models.Comment> commentList = Model.ToList()[1] as List<AccessControlManagement.Models.Comment>;
}



<style type="text/css">
    .form-style-5 {
        max-width: 500px;
        padding: 10px 20px;
        background: #f4f7f8;
        margin: 10px auto;
        padding: 20px;
        background: #f4f7f8;
        border-radius: 8px;
        font-family: "Segoe UI", Frutiger, "Frutiger Linotype", "Dejavu Sans", "Helvetica Neue", Arial, sans-serif;
    }

    .form-style-6 {
        max-width: 500px;
        padding: 10px 20px;
        background: #f4f7f8;
        margin: 10px auto;
        padding: 20px;
        background: #f4f7f8;
        border-radius: 8px;
        font-family: "Segoe UI", Frutiger, "Frutiger Linotype", "Dejavu Sans", "Helvetica Neue", Arial, sans-serif;
    }

    .form-style-5 i {
        color: #1abc9c;
        /*margin-right:140px;*/
    }

    .form-style-5 fieldset {
        border: 1px;
    }

    .form-style-5 legend {
        font-size: 1.4em;
        margin-bottom: 10px;
    }

    .form-style-5 label {
        display: block;
        margin-bottom: 8px;
    }

    .form-style-5 text {
        font-size: 0.8em;
        color: #808080;
    }

    .form-style-5 small {
        font-size: 1em;
        color: #35ad95;
    }

    .form-style-5 h3 {
        color: #1abc9c;
    }

    .form-style-5 p {
        text-align: justify;
    }

    .c1 {
        font-size: 1.2em;
        color: #1abc9c;
    }

    .c2 {
        font-size: 0.9em;
        margin-left:15px;
    }

    .form-style-5 .number {
        background: #1abc9c;
        color: #fff;
        height: 30px;
        width: 30px;
        display: inline-block;
        font-size: 1em;
        margin-right: 4px;
        line-height: 30px;
        text-align: center;
        text-shadow: 0 1px 0 rgba(255,255,255,0.2);
        border-radius: 15px 15px 15px 0px;
    }

    .form-style-5 input[type="submit"],
    .form-style-5 input[type="button"] {
        position: relative;
        color: #FFF;
        background: #1abc9c;
        font-size: 15px;
        text-align: center;
        font-style: normal;
        width: 25%;
        border: 1px solid #16a085;
        border-width: 1px 1px 3px;
    }

        .form-style-5 input[type="submit"]:hover,
        .form-style-5 input[type="button"]:hover {
            background: #109177;
        }

    input[type="text"] {
        width: 200px;
    }

    .form-style-5 input[type="text"] {
        font-family: "Segoe UI", Frutiger, "Frutiger Linotype", "Dejavu Sans", "Helvetica Neue", Arial, sans-serif;
        background: rgba(255,255,255,.1);
        border: none;
        border-radius: 4px;
        font-size: 16px;
        margin: 0;
        outline: 0;
        padding: 7px;
        width: 100%;
        box-sizing: border-box;
        -webkit-box-sizing: border-box;
        -moz-box-sizing: border-box;
        background-color: #e8eeef;
        color: #8a97a0;
        -webkit-box-shadow: 0 1px 0 rgba(0,0,0,0.03) inset;
        box-shadow: 0 1px 0 rgba(0,0,0,0.03) inset;
        margin-bottom: 10px;
        margin-left: 10px;
        margin-right: 10px;
    }
</style>

<form>
    @foreach (var item in listPost)
    {
        var po = 1;
        <div class="form-style-5">
            <fieldset>
                <legend><span class="number">P</span>@Html.DisplayFor(modelItem => item.user.username)</legend>

                <small>@Html.DisplayFor(modelItem => item.Category.category_name)</small>

                <text>@Html.DisplayFor(modelItem => item.post_date)</text>
                <br />

                <h3>@Html.DisplayFor(modelItem => item.title)</h3>

                <p>
                    @Html.DisplayFor(modelItem => item.post_description)
                </p>
            </fieldset>

            @*<button type="button" onclick="myFunction()">Try it</button>
                <div id="comment"></div>*@
            <a data-toggle="collapse" data-target=#@item.post_id.ToString()><i class="fa fa-comment"></i></a>
            <div class="form-style-6">
                <div id=@item.post_id.ToString() class="collapse">
                    @foreach (var comment in commentList)
                    {

                        if (comment.post_id == item.post_id)
                        {
                            <font class="c1">@Html.DisplayFor(modelItem => comment.user.username)</font>
                            <br />
                            <div class="c2">@Html.DisplayFor(modelItem => comment.description)</div>
                            <br />
                        }


                    }
                    <legend><span class="number">C</span></legend>                                     
                    @Html.TextBox("txtComment") <input type="submit" value="Comment" />
                </div>
            </div>
            <br />
        </div>
    }

</form>

@*<script>
    function myFunction() {
         var str ="";
        str += "Comment : <input type='text' id='txtcomment' />";
        str += "<input type='button' name='comment' value='comment' />";
        document.getElementById("comment").innerHTML = str;
    }
    </script>*@
<script>
function myFunction() {
     var str ="";
    str += "Comment : <input type='text' id='txtcomment' />";
    str += "<input type='button' name='comment' value='comment' />";
    document.getElementById("comment").innerHTML = str;
}
</script>
